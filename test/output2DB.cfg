process d0phi = {

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.debugModules = { "BeamSpotAnalyzer" }

  #replace MessageLogger.cout.threshold = "DEBUG"
  
  source = PoolSource
  {
    untracked vstring fileNames = {
    #'/store/RelVal/2007/3/7/RelVal130pre5QCD_pt80_120-DIGI-RECO/0000/545F5E7E-EBCE-DB11-AE9F-00304875A7B5.root',
    
    }
    
  }

  # data
  untracked PSet maxEvents = {untracked int32 input = -1}
  include "RecoVertex/BeamSpotProducer/test/EarlyCollision.cff"


  include "RecoVertex/BeamSpotProducer/data/d0_phi_analyzer.cff"
  replace d0_phi_analyzer.OutputFileName = "EarlyCollision.root"
  replace d0_phi_analyzer.BSAnalyzerParameters.WriteToDB      = true
  replace d0_phi_analyzer.BSAnalyzerParameters.InputBeamWidth = 31.7e-4

  // Database output service
  include "CondCore/DBCommon/data/CondDBCommon.cfi"
  # sqlite
  #replace CondDBCommon.connect = "sqlite_file:EarlyCollision.db"    
  #replace CondDBCommon.catalog = "file:conddbcatalog.xml"
  # devdb10 is now cms_orcoff_int2r
  replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_BEAMSPOT"
  replace CondDBCommon.catalog = "relationalcatalog_oracle://cms_orcoff_int2r/CMS_COND_GENERAL"
  replace CondDBCommon.DBParameters.authenticationPath = "/afs/cern.ch/cms/DB/conddb"

  service = PoolDBOutputService {
	  using CondDBCommon
	  VPSet toPut = { { string record = "BeamSpotObjectsRcd" string tag = "EarlyCollision" } }
  }

  path p =
  {
    d0_phi_analyzer
  }

}
