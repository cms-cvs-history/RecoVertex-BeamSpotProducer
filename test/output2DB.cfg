process d0phi = {

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.debugModules = { "BeamSpotAnalyzer" }

  #replace MessageLogger.cout.threshold = "DEBUG"
  
  source = PoolSource
  {
    untracked vstring fileNames = {
    #'/store/RelVal/2006/12/16/RelVal120BJets50-120/0000/00D1599A-578D-DB11-8741-001731AF68C7.root'
    #'file:/uscmst1b_scratch/lpc1/cmsroc/yumiceva/CMSSW_1_3_0_pre5/src/UserCode/Yumiceva/submit2uaf/mc-onsel-120_PU_QCD_pt_50_80/028B52A2-DABB-DB11-8154-003048719627.root'
    'file:/uscmst1b_scratch/lpc1/cmsroc/yumiceva/CMSSW_1_3_0_pre5/src/UserCode/Yumiceva/submit2uaf/mc-physval-120-BBbar50to80-LowLumiPU/221AA954-9396-DB11-89F3-0017312A2519.root'

#      "file:reco_files/reco_d0_phi_test_3000.root"
#      "file:reco_files/reco_d0_phi_test_3001.root"
#      "file:reco_files/reco_d0_phi_test_3002.root",
#      "file:reco_files/reco_d0_phi_test_3003.root",
#      "file:reco_files/reco_d0_phi_test_3004.root",
#      "file:reco_files/reco_d0_phi_test_3005.root",
#      "file:reco_files/reco_d0_phi_test_3006.root",
#      "file:reco_files/reco_d0_phi_test_3007.root",
#      "file:reco_files/reco_d0_phi_test_3008.root",
#      "file:reco_files/reco_d0_phi_test_3009.root",
#      "file:reco_files/reco_d0_phi_test_3010.root"
    }
    untracked int32 maxEvents = 10
  }

  include "RecoVertex/BeamSpotProducer/data/d0_phi_analyzer.cff"
  replace d0_phi_analyzer.OutputFileName = "analyze_d0_phi_bjets.root"
  replace d0_phi_analyzer.BSAnalyzerParameters.WriteToDB      = true

  // Database output service
  include "CondCore/DBCommon/data/CondDBCommon.cfi"
  replace CondDBCommon.connect = "sqlite_file:BeamSpot.db"    
  replace CondDBCommon.catalog = "file:conddbcatalog.xml"
  service = PoolDBOutputService {
	  using CondDBCommon
	  VPSet toPut = { { string record = "BeamSpotObjectsRcd" string tag = "BeamSpotGaussian" } }
  }

  path p =
  {
    d0_phi_analyzer
  }

}
